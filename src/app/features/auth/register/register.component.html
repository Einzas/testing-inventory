<div class="auth-container">
  <div class="container-fluid vh-100">
    <div class="row h-100">
      <!-- Left side - Branding -->
      <div class="col-lg-6 d-none d-lg-flex bg-primary text-white">
        <div class="d-flex flex-column justify-content-center align-items-center w-100 p-5">
          <div class="text-center">
            <i class="fas fa-user-plus fa-5x mb-4"></i>
            <h1 class="display-4 fw-bold mb-3">¡Únete a FacturaPro!</h1>
            <p class="lead mb-4">Gestiona tu negocio de manera eficiente</p>
            <div class="row text-center">
              <div class="col-3">
                <i class="fas fa-chart-line fa-2x mb-2"></i>
                <p class="small">Reportes</p>
              </div>
              <div class="col-3">
                <i class="fas fa-cloud fa-2x mb-2"></i>
                <p class="small">En la nube</p>
              </div>
              <div class="col-3">
                <i class="fas fa-mobile-alt fa-2x mb-2"></i>
                <p class="small">Móvil</p>
              </div>
              <div class="col-3">
                <i class="fas fa-shield-alt fa-2x mb-2"></i>
                <p class="small">Seguro</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Right side - Register Form -->
      <div class="col-lg-6 d-flex align-items-center">
        <div class="w-100 px-4 px-lg-5">
          <div class="card border-0 shadow-lg">
            <div class="card-body p-5">
              <!-- Mobile branding -->
              <div class="d-lg-none text-center mb-4">
                <i class="fas fa-invoice fa-3x text-primary mb-2"></i>
                <h2 class="text-primary fw-bold">FacturaPro</h2>
              </div>

              <div class="text-center mb-4">
                <h3 class="fw-bold text-dark mb-2">Crear Cuenta</h3>
                <p class="text-muted">Completa el formulario para registrarte</p>
              </div>

              <!-- Error Alert -->
              @if (error()) {
                <div class="alert alert-danger d-flex align-items-center mb-4" role="alert">
                  <i class="fas fa-exclamation-triangle me-2"></i>
                  <div>{{ error() }}</div>
                </div>
              }

              <!-- Register Form -->
              <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
                <!-- Name Fields -->
                <div class="row mb-3">
                  <div class="col-md-6">
                    <label for="firstName" class="form-label fw-semibold">
                      <i class="fas fa-user me-1"></i>
                      Nombre
                    </label>
                    <input
                      type="text"
                      class="form-control"
                      id="firstName"
                      formControlName="firstName"
                      placeholder="Juan"
                      [class.is-invalid]="getFieldError('firstName')"
                    >
                    @if (getFieldError('firstName')) {
                      <div class="invalid-feedback">
                        {{ getFieldError('firstName') }}
                      </div>
                    }
                  </div>
                  <div class="col-md-6">
                    <label for="lastName" class="form-label fw-semibold">
                      <i class="fas fa-user me-1"></i>
                      Apellido
                    </label>
                    <input
                      type="text"
                      class="form-control"
                      id="lastName"
                      formControlName="lastName"
                      placeholder="Pérez"
                      [class.is-invalid]="getFieldError('lastName')"
                    >
                    @if (getFieldError('lastName')) {
                      <div class="invalid-feedback">
                        {{ getFieldError('lastName') }}
                      </div>
                    }
                  </div>
                </div>

                <!-- Email Field -->
                <div class="mb-3">
                  <label for="email" class="form-label fw-semibold">
                    <i class="fas fa-envelope me-1"></i>
                    Email
                  </label>
                  <input
                    type="email"
                    class="form-control"
                    id="email"
                    formControlName="email"
                    placeholder="usuario@empresa.com"
                    [class.is-invalid]="getFieldError('email')"
                  >
                  @if (getFieldError('email')) {
                    <div class="invalid-feedback">
                      {{ getFieldError('email') }}
                    </div>
                  }
                </div>

                <!-- Password Fields -->
                <div class="row mb-4">
                  <div class="col-md-6">
                    <label for="password" class="form-label fw-semibold">
                      <i class="fas fa-lock me-1"></i>
                      Contraseña
                    </label>
                    <input
                      type="password"
                      class="form-control"
                      id="password"
                      formControlName="password"
                      placeholder="••••••••"
                      [class.is-invalid]="getFieldError('password')"
                    >
                    @if (getFieldError('password')) {
                      <div class="invalid-feedback">
                        {{ getFieldError('password') }}
                      </div>
                    }
                  </div>
                  <div class="col-md-6">
                    <label for="confirmPassword" class="form-label fw-semibold">
                      <i class="fas fa-lock me-1"></i>
                      Confirmar
                    </label>
                    <input
                      type="password"
                      class="form-control"
                      id="confirmPassword"
                      formControlName="confirmPassword"
                      placeholder="••••••••"
                      [class.is-invalid]="getFieldError('confirmPassword')"
                    >
                    @if (getFieldError('confirmPassword')) {
                      <div class="invalid-feedback">
                        {{ getFieldError('confirmPassword') }}
                      </div>
                    }
                  </div>
                </div>

                <!-- Submit Button -->
                <div class="d-grid">
                  <button
                    type="submit"
                    class="btn btn-primary btn-lg"
                    [disabled]="isLoading()"
                  >
                    @if (isLoading()) {
                      <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                      Creando cuenta...
                    } @else {
                      <i class="fas fa-user-plus me-2"></i>
                      Crear Cuenta
                    }
                  </button>
                </div>
              </form>

              <!-- Login Link -->
              <div class="text-center mt-4">
                <p class="text-muted mb-0">
                  ¿Ya tienes cuenta? 
                  <a routerLink="/auth/login" class="text-primary text-decoration-none fw-semibold">
                    Iniciar Sesión
                  </a>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
